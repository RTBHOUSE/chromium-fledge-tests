<h1>run ad auction</h1>
<div id="ad" style="width: 1500px; height: 1000px;"> Ad should be placed here</div>

<script>
if (!navigator.runAdAuction) {
  document.write("your browser doesn't have runAdAuction -- do you need to set some flags?");
}
</script>

<script type=module>
if (navigator.runAdAuction) {
  const ar = await navigator.runAdAuction({
    seller: 'https://localhost:8102',
    decisionLogicUrl: 'https://localhost:8102/seller.js',
    trustedScoringSignalsUrl: 'https://localhost:8102/trusted-scoring.json',
    interestGroupBuyers: ["https://localhost:8101"],
    auctionSignals: {key: "auction signals"},
    sellerSignals: {key: "seller signals"},
    perBuyerSignals: {"https://localhost:8101": {key: "tc signals"}},
    resolveToConfig: true,
  });

  console.log("winning url " + ar);
  const adDiv = document.getElementById('ad');
  adDiv.innerHTML = "";
  if (ar === null) {
    adDiv.appendChild(document.createTextNode("No turtledove winner"));
  } else {
    const fframe = document.createElement('fencedframe');
    fframe.config = ar;
    fframe.setAttribute('style', 'width: 100px; height: 100px');
    adDiv.appendChild(fframe);
  }
}
</script>
